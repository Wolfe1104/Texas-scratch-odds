<script src="data.js"></script>
<script>
  // Filter active games and sort by your criteria
  const sorted = [...tickets]
    .filter(t => t.profitPrizesRemaining > 0 && t.estRemainingTickets > 0)
    .sort((a, b) => {
      // Primary: most profit prizes remaining
      if (b.profitPrizesRemaining !== a.profitPrizesRemaining) {
        return b.profitPrizesRemaining - a.profitPrizesRemaining;
      }
      // Tiebreaker: fewest remaining tickets (hotter when running low)
      return a.estRemainingTickets - b.estRemainingTickets;
    })
    .slice(0, 10);

  const container = document.getElementById('top10');
  sorted.forEach(t => {
    container.innerHTML += `
      <div class="col">
        <div class="card h-100 text-white">
          <img src="\( {t.image}" class="card-img-top ticket-img" alt=" \){t.name}">
          <div class="card-body">
            <h5 class="card-title">${t.name}</h5>
            <p class="card-text">
              <strong>Price:</strong> \[ {t.price}<br>
              <strong>Top Prize:</strong> \]{t.topPrize.toLocaleString()}<br>
              <strong>Remaining Top:</strong> ${t.remainingTop}<br>
              <strong>Profit Prizes Left (> price):</strong> ${t.profitPrizesRemaining.toLocaleString()}<br>
              <strong>Est. Tickets Left:</strong> ${t.estRemainingTickets.toLocaleString()}<br>
              <strong>Current Top Odds:</strong> 1 in ${t.currentTopOdds}
            </p>
            <span class="badge bg-danger">HOT: Great profit prizes + low tickets left!</span>
          </div>
        </div>
      </div>`;
  });

  // Update page title/description
  document.querySelector('h1').innerText = "Top 10 Hottest Scratch-Offs (Best Profit Potential)";
  document.querySelector('p.lead').innerHTML = "Ranked by most remaining prizes worth more than ticket price<br>with tiebreaker: fewest tickets left (running out = better value now!)";
</script>
